<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="shortcut icon" href="">
        <title>Starter Template for Bootstrap</title>

        <!-- Bootstrap core CSS -->
        <link href="./css/bootstrap.css" rel="stylesheet">
        <link href="./css/bootstrap-theme.min.css" rel="stylesheet">
        <link href="./css/main.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <style>body{padding-top:50px;}.starter-template{padding:40px 15px;text-align:center;}</style>

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>
        <nav class="navbar navbar-inverse navbar-fixed-top" appRole="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">Project name</a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="#">Home</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </nav>
        <div class="container">
            <div class="starter-template">
                <h1>Say Done!</h1>
                <p class="lead">A simple Task - todo list and measure performance app.</p>
            </div>
<!--					End of start info-->
						<div class="bs-surround">
							<h3>Add a new Task</h3>
								<form class="form-horizontal" appRole="form" action="javascript:void(0);">
									<div class="form-group">
										<label for="inputTitle" class="col-sm-2 control-label">Title</label>
										<div class="col-sm-6">
											<input type="text" class="form-control" id="inputTitle" placeholder="Title of task">
										</div>
									</div>
									<div class="form-group">
										<div class="col-sm-offset-2 col-sm-10">
											<button id="insertTask" type="submit" class="btn btn-default">Add Task</button>
										</div>
									</div>
							</form>						
						</div>
<!--					end of form-->
					<div class="bs-surround">
						<h3>List of Tasks</h3>
						<ul>
							<li> test item</li>
						</ul>
<!--						<select size="2" class="form-control" id="taskListSelect" onchange="getTaskInfo(this.selectedIndex,this.options[this.selectedIndex].value)">-->
						
						<select size="2" class="form-control" id="taskListSelect">
							<option data-value='{"title":"diska1","timestamp":123,"minimum":0,"maximum":0,"average":0}'>1 test</option>
							<option data-value='{"title":"diska2","timestamp":123,"minimum":0,"maximum":0,"average":0}'>2 test</option>
							<option data-value='{"title":"diska3","timestamp":123,"minimum":0,"maximum":0,"average":0}'>3 test</option>
							<option data-value='{"title":"diska4","timestamp":123,"minimum":0,"maximum":0,"average":0}'>4 test</option>
						</select>
					</div>
<!--					end of list-->
					
					<div class="bs-surround">
					<h2>Selected Task</h2>
						<form class="form-horizontal">
						<h4>Title: <span class="label label-primary" id="currTitle">Diska</span></h4>
						<h4>Timestamp: <span class="label label-primary" id="currTimestamp">2014-01-01 12:30</span></h4>
						<h4>Minimum time: <span class="label label-primary" id="currMin">5:30</span></h4>
						<h4>Maximum time: <span class="label label-primary" id="currMax">12:30</span></h4>
						<h4>Avrage time: <span class="label label-warning" id="currAvg">8:30</span></h4>
						<h4>Is running: <span class="label label-success">True</span></h4>
							<br>
						<h4>Current time: <span class="label label-default">1:13</span></h4>
						<div class="btn-group">
							<button type="button" class="btn btn-primary">Start</button>	
							<button type="button" class="btn btn-default">Pause</button>	
							<button type="button" class="btn btn-danger">Reset</button>	
						</div>
							
						<h4>Are you done? <button class="btn btn-success" id="finishBtn">Finish!</button></h4>
							
						</form>
					</div>
<!--					end of selected-->
					<div class="bs-surround">
						<div class="green clock"></div>
						<div class="display"></div>
						<div class="fron left"></div>
						<div class="rotate left">
							<div class="bg left"></div>
						</div>
						<div class="rotate right">
							<div class="bg right"></div>
						</div>
						
						</div>
<!--					end of clock-->
					
        </div>
<!--			end of container-->
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="js/jquery-2.1.1.min.js"></script>
        <!-- compiled and minified Bootstrap JavaScript -->
        <script src="js/bootstrap.js"></script>
			
        <script>

					$("#finishBtn").click(function()
					{
//							alert("hello");
							
							var str ='{"title":"diska1","timestamp":123,"minimum":0,"maximum":0,"average":0}';
							var obj = JSON.parse(str);
							alert(JSON.stringify(obj.title));

					});
            //temp list of tasks
//            var taskList = [                {'title':'diska1','timestamp':'123','minimum':'0:0','maximum':'0:0','average':'0:0'},{'title':'diska2','timestamp':'123','minimum':'0:0','maximum':'0:0','average':'0:0'},{'title':'diska3','timestamp':'123','minimum':'0:0','maximum':'0:0','average':'0:0'},
//                 ];
						var taskList = [];
            //load the localstorage
           //save to storage
					//localStorage["tasklist"] = JSON.stringify(taskList);
//						taskList = JSON.parse(localStorage["tasklist"]);

            document.getElementById('insertTask').onclick = function() {
                insertTask();
            }

            function insertTask()
            {

                //get title from input
                var title = $('#inputTitle').val();
																
                //get a number of the time
                var timeStamp = Date.now();
                var theTask = {};
								theTask.title = title;
								theTask.timestamp=timeStamp;
								theTask.minimum=0;
								theTask.maximum=0;
								theTask.average=0;
								
								taskList.push(theTask);
//								alert(JSON.stringify(theTask));
//										alert(JSON.stringify(taskList));
								localStorage["tasklist"] = JSON.stringify(taskList);
//								updateList();
							$("#taskListSelect").prepend("<option data-value='"+JSON.stringify(theTask)+"'>"+theTask.title+"</option>");
            }

						var item={};
						
						
						
            $("#taskListSelect").change(function(){
								
                item= $(this).find(":selected").data("value");
//								var temp =JSON.parse(item);
//                alert(JSON.stringify(item));
//								alert(item.title);
								
								
								$("#currTitle").text(item.title);
								$("#currTimestamp").text(item.timestamp);
								$("#currMin").text(item.minimum);
								$("#currMax").text(item.maximum);
								$("#currAvg").text(item.average);

            });
						
						function updateList()
						{
//								$("#taskListSelect").
						}


//					function getTaskInfo(currentIndex,currentValue)
//					{
////						var temp = Date.now();
////						var temp2 = new Date(temp);
////						alert("index. "+currentIndex+" value: "+currentValue+" cur time ");
//						alert('Index: ' + this.selectedIndex + '\nValue: ' + this.options[this.selectedIndex].value)
//					}

        </script>
    </body>
</html>
